{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sharon\\\\Desktop\\\\final_app\\\\tailwind\\\\landing-page\\\\src\\\\components\\\\Search.js\";\nimport React from 'react';\nimport './dropdown.css'; // import { connect } from 'react-redux'\n\nimport { APIKEY } from '../redux/constants'; // const APIKEY = 'JAtHsDZRGZvNUdAeFrSqFbq7kHO4IfPb'\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n\n    this.onTextChange = e => {\n      console.log(APIKEY);\n      const value = e.target.value; // const {city} = this.state\n\n      if (value.length > 0) {\n        fetch(`http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=${APIKEY}&q=${value}`).then(response => response.json()).then(key => {\n          console.log(key);\n          this.setState({\n            suggestions: key\n          });\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    };\n\n    this.renderSuggestion = () => {\n      const {\n        suggestions\n      } = this.state;\n      return /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }\n      }, suggestions.map(item => {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          Key: item.id,\n          onClick: () => this.onTextClicked(item.Key),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 28\n          }\n        }, item.LocalizedName);\n      }));\n    };\n\n    this.onTextClicked = key => {\n      fetch(`http://dataservice.accuweather.com/forecasts/v1/daily/5day/${key}?apikey=${APIKEY}&metric=true`).then(response => response.json()).then(data => {\n        console.log(data); // this.setState({suggestions:data});\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      suggestions: [],\n      key: ''\n    };\n  }\n\n  render() {\n    const {\n      key\n    } = this.state; // console.log('stext', searchText);\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"relative flex w-full flex-wrap items-stretch mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Search\",\n      value: key,\n      onChange: this.onTextChange,\n      className: \"px-2 py-1 placeholder-gray-400 text-gray-700 \\r relative bg-white bg-white rounded text-sm shadow \\r outline-none focus:outline-none focus:shadow-outline w-full pr-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"z-10 h-full leading-snug font-normal absolute text-center \\r text-gray-400 absolute bg-transparent rounded text-base items-center \\r justify-center w-8 right-0 pr-2 py-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, this.renderSuggestion()));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["C:/Users/Sharon/Desktop/final_app/tailwind/landing-page/src/components/Search.js"],"names":["React","APIKEY","Search","Component","constructor","onTextChange","e","console","log","value","target","length","fetch","then","response","json","key","setState","suggestions","catch","err","renderSuggestion","state","map","item","id","onTextClicked","Key","LocalizedName","data","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './dropdown.css'\r\n// import { connect } from 'react-redux'\r\nimport { APIKEY } from '../redux/constants'\r\n\r\n// const APIKEY = 'JAtHsDZRGZvNUdAeFrSqFbq7kHO4IfPb'\r\n\r\n\r\nclass Search extends React.Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            suggestions: [],\r\n            key: ''\r\n        }\r\n    }\r\n\r\n    onTextChange = (e) => {\r\n        console.log(APIKEY);\r\n        const value = e.target.value;\r\n        // const {city} = this.state\r\n        if(value.length > 0) {\r\n            fetch(`http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=${APIKEY}&q=${value}`)\r\n            .then(response => response.json())\r\n            .then(key => {\r\n                console.log(key);\r\n                this.setState({suggestions:key});\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n\r\n    renderSuggestion = () => {\r\n        const {suggestions} = this.state;\r\n        return (\r\n            <ul>\r\n            {\r\n                suggestions.map(item => {\r\n                    return <li Key={item.id}\r\n                            onClick={()=> this.onTextClicked(item.Key)}>\r\n                                {item.LocalizedName}\r\n                            </li>\r\n                })\r\n            }\r\n            </ul>\r\n        )\r\n    }\r\n\r\n    onTextClicked = (key) => {\r\n        fetch(`http://dataservice.accuweather.com/forecasts/v1/daily/5day/${key}?apikey=${APIKEY}&metric=true`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data);\r\n            // this.setState({suggestions:data});\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    \r\n\r\n\r\n    render() {\r\n        const { key } = this.state;\r\n        // console.log('stext', searchText);\r\n        return (\r\n            <div className=\"relative flex w-full flex-wrap items-stretch mb-3\">\r\n            <input type=\"text\" \r\n                placeholder=\"Search\" \r\n                value={key}\r\n                onChange={this.onTextChange}\r\n                className=\"px-2 py-1 placeholder-gray-400 text-gray-700 \r\n                relative bg-white bg-white rounded text-sm shadow \r\n                outline-none focus:outline-none focus:shadow-outline w-full pr-10\"/>\r\n                <span className=\"z-10 h-full leading-snug font-normal absolute text-center \r\n                text-gray-400 absolute bg-transparent rounded text-base items-center \r\n                justify-center w-8 right-0 pr-2 py-1\">\r\n              <i className=\"fas fa-user\"></i>\r\n            </span>\r\n                <div className=\"dropdown\">\r\n                    {this.renderSuggestion()}\r\n                </div>\r\n          </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}