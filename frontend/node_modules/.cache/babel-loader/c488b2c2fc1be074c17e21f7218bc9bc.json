{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sharon\\\\Desktop\\\\final_app\\\\frontend\\\\landing-page\\\\src\\\\App.js\";\nimport React from 'react';\nimport AOS from 'aos';\nimport { BrowserRouter as Router, Link, Route, Redirect, Switch, useHistory } from \"react-router-dom\";\nimport Landing from 'views/Lading';\nimport Login from './views/Login';\nimport Signup from './views/Signup';\nimport Daycard from \"components/Daycard\";\nimport Profile from 'views/Profile';\nimport Navbar from 'components/Navbar';\nimport ContentSection from 'components/ContentSection';\nimport Search from 'components/Search';\nAOS.init();\nconst fakeAuth = {\n  isAuthenticated: false,\n\n  authneticate(cb) {\n    this.isAuthenticated = true;\n    setTimeout(cb, 100);\n  },\n\n  signout(cb) {\n    this.isAuthenticated = false;\n    setTimeout(cb, 100);\n  }\n\n};\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.handleSubmit = (username, email, password) => {\n      fetch('http://localhost:9000/signup', {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          username,\n          email,\n          password\n        })\n      }).then(res => res.json()).then(data => {\n        if (data) {\n          if (data.message) {\n            console.log(data.message);\n          } else if (data.user) {\n            this.setState({\n              user: data,\n              redirect: '/',\n              isAuthenticated: true\n            });\n          }\n\n          console.log(data);\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.login = () => {\n      fakeAuth.authenticate(() => {\n        this.setState(() => ({\n          redirectToReferrer: true\n        }));\n      });\n    };\n\n    this.PrivateRoute = ({\n      component: Component,\n      ...rest\n    }) => /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n      render: props => fakeAuth.isAuthenticated === true ? /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }\n      })) : /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 10\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }\n    }));\n\n    this.state = {\n      isAuthenticated: false,\n      user: null,\n      redirectToReferrer: false\n    };\n  } //signup method, sends data to backend to create a user\n  //authenticates and sets its state to true! \n\n\n  loginRender() {\n    const {\n      redirectToReferrer\n    } = this.state;\n\n    if (redirectToReferrer === true) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 14\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, \"You must log in to view the page\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, \"Log in\"));\n  }\n\n  render() {\n    const {\n      isAuthenticated,\n      redirect\n    } = this.state;\n    console.log('authneticate:', isAuthenticated, redirect);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Landing, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(ContentSection, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      render: () => /*#__PURE__*/React.createElement(Login, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 49\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/signup\",\n      render: () => /*#__PURE__*/React.createElement(Signup, {\n        redirect: redirect,\n        handleSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 50\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      path: \"/profile\",\n      component: Profile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Sharon/Desktop/final_app/frontend/landing-page/src/App.js"],"names":["React","AOS","BrowserRouter","Router","Link","Route","Redirect","Switch","useHistory","Landing","Login","Signup","Daycard","Profile","Navbar","ContentSection","Search","init","fakeAuth","isAuthenticated","authneticate","cb","setTimeout","signout","App","Component","constructor","handleSubmit","username","email","password","fetch","method","headers","body","JSON","stringify","then","res","json","data","message","console","log","user","setState","redirect","catch","err","login","authenticate","redirectToReferrer","PrivateRoute","component","rest","props","state","loginRender","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport AOS from 'aos';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Link,\r\n  Route,\r\n  Redirect,\r\n  Switch,\r\n  useHistory\r\n} from \"react-router-dom\"\r\n\r\nimport Landing from 'views/Lading';\r\nimport Login from './views/Login';\r\nimport Signup from './views/Signup';\r\nimport Daycard from \"components/Daycard\";\r\nimport Profile from 'views/Profile';\r\nimport Navbar from 'components/Navbar';\r\nimport ContentSection from 'components/ContentSection';\r\nimport Search from 'components/Search';\r\n\r\nAOS.init();\r\n\r\nconst fakeAuth =  {\r\n  isAuthenticated: false,\r\n  authneticate(cb) {\r\n    this.isAuthenticated = true\r\n    setTimeout(cb, 100)\r\n  },\r\n  signout(cb) {\r\n    this.isAuthenticated = false\r\n    setTimeout(cb, 100)\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(){\r\n    super(); \r\n    this.state = {\r\n      isAuthenticated: false,\r\n      user: null,\r\n      redirectToReferrer: false\r\n    }\r\n  }\r\n\r\n\r\n//signup method, sends data to backend to create a user\r\n//authenticates and sets its state to true! \r\n  handleSubmit = (username, email, password) => {\r\n    fetch('http://localhost:9000/signup', {\r\n      method:'POST',\r\n      headers: {\r\n        'content-type': 'application/json'\r\n      },\r\n      body:JSON.stringify({\r\n        username,email,password\r\n      })\r\n    })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      if(data) {\r\n        if(data.message) {\r\n          console.log(data.message)\r\n        }\r\n        else if(data.user) {\r\n          this.setState({user:data, redirect:'/', isAuthenticated: true})\r\n        }\r\n          \r\n        console.log(data);\r\n      }\r\n    }\r\n    )\r\n    .catch(err => {\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  login = () => {\r\n    fakeAuth.authenticate(() => {\r\n      this.setState(() => ({\r\n        redirectToReferrer: true\r\n      }))\r\n    })\r\n  }\r\n  loginRender() {\r\n    const { redirectToReferrer } = this.state\r\n\r\n    if (redirectToReferrer === true) {\r\n      return <Redirect to='/' />\r\n    }\r\n    return (\r\n      <div>\r\n        <p>You must log in to view the page</p>\r\n        <button onClick={this.login}>Log in</button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  PrivateRoute =({ component: Component, ...rest}) => (\r\n    <Route {...rest} render={(props) => (\r\n      fakeAuth.isAuthenticated === true\r\n        ? <Component {...props}/>\r\n        :<Redirect to='/login'/>\r\n    )}/>\r\n  )\r\n\r\n\r\n  render() {\r\n    const { isAuthenticated, redirect } = this.state; \r\n    console.log('authneticate:',isAuthenticated, redirect);\r\n\r\n    return (\r\n        <div>\r\n          <Switch>\r\n            <Route path='/' exact >\r\n              <Landing />\r\n              <ContentSection />\r\n            </Route>\r\n            <Route path='/login' render={ () => <Login />} />\r\n            <Route path='/signup' render={ () => <Signup redirect={redirect} \r\n              handleSubmit={this.handleSubmit} />} />\r\n            <PrivateRoute path='/profile' component={Profile} />\r\n          </Switch>\r\n        </div>\r\n    )\r\n  }\r\n\r\n\r\n}\r\nexport default App;\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}