{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sharon\\\\Desktop\\\\final_app\\\\weatherApp\\\\frontend\\\\src\\\\App.js\";\nimport React from 'react';\nimport AOS from 'aos';\nimport { connect } from 'react-redux';\nimport { Link, Route, Redirect, Switch, useHistory } from \"react-router-dom\";\nimport PrivateRoute from './components/PrivateRoute'; // import SignOut from './components/SignOut';\n\nimport Landing from 'views/Lading';\nimport Login from './views/Login';\nimport Signup from './views/Signup';\nimport Profile from 'views/Profile';\nimport Navbar from 'components/Navbar';\nimport ContentSection from 'components/ContentSection';\nimport { authentication } from './redux/action';\nAOS.init();\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = (username, email, password) => {\n      // const { username, email, password } = this.state\n      console.log('handlesubmit:', username, email, password);\n      fetch('http://localhost:9000/signup', {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          username,\n          email,\n          password\n        })\n      }).then(res => res.json()).then(data => {\n        // console.log(data);\n        if (data) {\n          if (data.message) {\n            console.log(data.message);\n          } else if (data.user) {\n            this.setState({\n              user: data,\n              redirect: '/',\n              isAuthenticated: true\n            });\n          }\n\n          console.log(data);\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.ontextSubmit = (email, password) => {\n      // const {loginA} = this.props\n      // loginA(email, password)\n      // console.log('ontextSubmit:', email, password);\n      const {\n        rememberMe\n      } = this.props;\n      fetch('http://localhost:9000/login', {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      }).then(res => res.json()).then(data => {\n        // console.log(data);\n        if (data) {\n          if (data.message) {\n            console.log(data.message);\n          } else if (data.user) {\n            this.setState({\n              user: data,\n              redirect: '/profile',\n              isAuthenticated: true\n            });\n          }\n\n          localStorage.setItem('rememberMe', rememberMe);\n        }\n      }).catch(err => {\n        console.log('error:', err);\n      });\n    };\n\n    this.state = {\n      isAuthenticated: props.isAuthenticated,\n      user: [],\n      redirect: null\n    };\n  } //signup method, sends data to backend to create a user\n  //authenticates and sets its state to true! \n\n\n  render() {\n    const {\n      redirect,\n      isAuthenticated\n    } = this.state;\n    const {\n      isAuthenticatedA,\n      userA\n    } = this.props;\n    console.log('isAuthenticatedA:', isAuthenticatedA, 'userA:', userA);\n    console.log('authneticate:', isAuthenticated, redirect);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Landing, {\n      user: this.state.user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(ContentSection, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      key: \"1\",\n      path: \"/login\",\n      render: () => /*#__PURE__*/React.createElement(Login, {\n        redirect: redirect,\n        ontextSubmit: this.ontextSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 57\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      key: \"1\",\n      path: \"/signup\",\n      render: () => /*#__PURE__*/React.createElement(Signup, {\n        redirect: redirect,\n        handleSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 58\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      isAuthenticated: isAuthenticated,\n      path: \"/profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(Profile, {\n      user: this.state.user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n} //gets the state from the store (state is calling the stores state)\n\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticatedA: state.authenticateUser.isAuthenticated,\n    userA: state.authenticateUser.user\n  };\n}; //updates state changes in the store \n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loginA: (email, password) => dispatch(authentication(email, password))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["C:/Users/Sharon/Desktop/final_app/weatherApp/frontend/src/App.js"],"names":["React","AOS","connect","Link","Route","Redirect","Switch","useHistory","PrivateRoute","Landing","Login","Signup","Profile","Navbar","ContentSection","authentication","init","App","Component","constructor","props","handleSubmit","username","email","password","console","log","fetch","method","headers","body","JSON","stringify","then","res","json","data","message","user","setState","redirect","isAuthenticated","catch","err","ontextSubmit","rememberMe","localStorage","setItem","state","render","isAuthenticatedA","userA","mapStateToProps","authenticateUser","mapDispatchToProps","dispatch","loginA"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport AOS from 'aos';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n  Link,\r\n  Route,\r\n  Redirect,\r\n  Switch,\r\n  useHistory\r\n} from \"react-router-dom\"\r\nimport PrivateRoute from './components/PrivateRoute';\r\n// import SignOut from './components/SignOut';\r\n\r\nimport Landing from 'views/Lading';\r\nimport Login from './views/Login';\r\nimport Signup from './views/Signup';\r\nimport Profile from 'views/Profile';\r\nimport Navbar from 'components/Navbar';\r\nimport ContentSection from 'components/ContentSection';\r\nimport { authentication } from './redux/action'\r\n\r\n\r\nAOS.init();\r\n\r\nclass App extends React.Component {\r\n  constructor(props){\r\n    super(props); \r\n    this.state = {\r\n      isAuthenticated: props.isAuthenticated,\r\n      user: [],\r\n      redirect: null\r\n    }\r\n  }\r\n\r\n\r\n//signup method, sends data to backend to create a user\r\n//authenticates and sets its state to true! \r\n  handleSubmit = (username, email, password) => {\r\n    // const { username, email, password } = this.state\r\n    console.log('handlesubmit:', username, email, password);\r\n    fetch('http://localhost:9000/signup', {\r\n      method:'POST',\r\n      headers: {\r\n        'content-type': 'application/json'\r\n      },\r\n      body:JSON.stringify({\r\n        username,email,password\r\n      })\r\n    })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      // console.log(data);\r\n      if(data) {\r\n        if(data.message) {\r\n          console.log(data.message)\r\n        }\r\n        else if(data.user) {\r\n          this.setState({user:data, redirect:'/', isAuthenticated: true})\r\n        }\r\n          \r\n        console.log(data);\r\n      }\r\n    }\r\n    )\r\n    .catch(err => {\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  //signin method to send the data to the server \r\n  ontextSubmit = (email, password) => {\r\n    // const {loginA} = this.props\r\n    // loginA(email, password)\r\n    // console.log('ontextSubmit:', email, password);\r\n    const { rememberMe } = this.props;\r\n    fetch('http://localhost:9000/login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'content-type': 'application/json'\r\n      },\r\n      body:JSON.stringify({\r\n        email,password\r\n      })\r\n    })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      // console.log(data);\r\n      if(data) {\r\n        if(data.message) {\r\n          console.log(data.message)\r\n        }\r\n        else if(data.user) {\r\n          this.setState({user:data, redirect:'/profile', isAuthenticated: true})\r\n        }\r\n        localStorage.setItem('rememberMe', rememberMe);\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log('error:', err);\r\n    })\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { redirect, isAuthenticated } = this.state; \r\n    const {isAuthenticatedA, userA } = this.props\r\n    console.log('isAuthenticatedA:', isAuthenticatedA, 'userA:' , userA );\r\n    console.log('authneticate:',isAuthenticated, redirect);\r\n    return (\r\n        <div>\r\n          <Navbar />\r\n          {/* <Route path='/logout' render={ () => <SignOut redirect={redirect} />} /> */}\r\n          <Switch>\r\n            <Route path='/' exact >\r\n              <Landing user={this.state.user} />\r\n              <ContentSection />\r\n            </Route>\r\n            <Route key='1' path='/login' render={ () => <Login redirect={redirect} \r\n              ontextSubmit={this.ontextSubmit} />} />\r\n            <Route key='1' path='/signup' render={ () => <Signup redirect={redirect} \r\n              handleSubmit={this.handleSubmit} />} />\r\n           <PrivateRoute isAuthenticated={isAuthenticated} path=\"/profile\">\r\n            <Profile user={this.state.user}/>\r\n          </PrivateRoute>\r\n          </Switch>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\n//gets the state from the store (state is calling the stores state)\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n  isAuthenticatedA: state.authenticateUser.isAuthenticated,\r\n  userA: state.authenticateUser.user\r\n  }\r\n}\r\n\r\n//updates state changes in the store \r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    loginA: (email, password) => dispatch(authentication(email, password))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(App);\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}